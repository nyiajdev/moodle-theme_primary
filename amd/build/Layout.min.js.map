{"version":3,"sources":["../src/Layout.js"],"names":["DATA_KEY","JQUERY_NO_CONFLICT","$","fn","SELECTOR_HEADER","SELECTOR_MAIN_SIDEBAR","SELECTOR_SIDEBAR","SELECTOR_FOOTER","CLASS_NAME_SIDEBAR_FOCUSED","Default","scrollbarTheme","scrollbarAutoHide","panelAutoHeight","loginRegisterAutoHeight","Layout","element","config","_config","_element","_init","extra","$body","controlSidebar","hasClass","height","heights","window","header","length","outerHeight","footer","sidebar","max","_max","offset","$contentSelector","css","_isFooterFixed","parseFloat","overlayScrollbars","className","sizeAutoCapable","scrollbars","autoHide","clickScrolling","$selector","boxHeight","fixLayoutHeight","fixLoginRegisterHeight","parseInt","setInterval","on","resize","setTimeout","removeClass","numbers","Object","keys","forEach","key","each","data","_options","extend","_jQueryInterface","call","addClass","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------\n * AdminLTE Layout.js\n * License MIT\n * --------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * Constants\n * ====================================================\n */\n\nconst NAME = 'Layout'\nconst DATA_KEY = 'lte.layout'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst SELECTOR_HEADER = '.main-header'\nconst SELECTOR_MAIN_SIDEBAR = '.main-sidebar'\nconst SELECTOR_SIDEBAR = '.main-sidebar .sidebar'\nconst SELECTOR_CONTENT = '.content-wrapper'\nconst SELECTOR_CONTROL_SIDEBAR_CONTENT = '.control-sidebar-content'\nconst SELECTOR_CONTROL_SIDEBAR_BTN = '[data-widget=\"control-sidebar\"]'\nconst SELECTOR_FOOTER = '.main-footer'\nconst SELECTOR_PUSHMENU_BTN = '[data-widget=\"pushmenu\"]'\nconst SELECTOR_LOGIN_BOX = '.login-box'\nconst SELECTOR_REGISTER_BOX = '.register-box'\n\nconst CLASS_NAME_SIDEBAR_FOCUSED = 'sidebar-focused'\nconst CLASS_NAME_LAYOUT_FIXED = 'layout-fixed'\nconst CLASS_NAME_CONTROL_SIDEBAR_SLIDE_OPEN = 'control-sidebar-slide-open'\nconst CLASS_NAME_CONTROL_SIDEBAR_OPEN = 'control-sidebar-open'\n\nconst Default = {\n  scrollbarTheme: 'os-theme-light',\n  scrollbarAutoHide: 'l',\n  panelAutoHeight: true,\n  loginRegisterAutoHeight: true\n}\n\n/**\n * Class Definition\n * ====================================================\n */\n\nclass Layout {\n  constructor(element, config) {\n    this._config = config\n    this._element = element\n\n    this._init()\n  }\n\n  // Public\n\n  fixLayoutHeight(extra = null) {\n    const $body = $('body')\n    let controlSidebar = 0\n\n    if ($body.hasClass(CLASS_NAME_CONTROL_SIDEBAR_SLIDE_OPEN) || $body.hasClass(CLASS_NAME_CONTROL_SIDEBAR_OPEN) || extra === 'control_sidebar') {\n      controlSidebar = $(SELECTOR_CONTROL_SIDEBAR_CONTENT).height()\n    }\n\n    const heights = {\n      window: $(window).height(),\n      header: $(SELECTOR_HEADER).length !== 0 ? $(SELECTOR_HEADER).outerHeight() : 0,\n      footer: $(SELECTOR_FOOTER).length !== 0 ? $(SELECTOR_FOOTER).outerHeight() : 0,\n      sidebar: $(SELECTOR_SIDEBAR).length !== 0 ? $(SELECTOR_SIDEBAR).height() : 0,\n      controlSidebar\n    }\n\n    const max = this._max(heights)\n    let offset = this._config.panelAutoHeight\n\n    if (offset === true) {\n      offset = 0\n    }\n\n    const $contentSelector = $(SELECTOR_CONTENT)\n\n    if (offset !== false) {\n      if (max === heights.controlSidebar) {\n        $contentSelector.css('min-height', (max + offset))\n      } else if (max === heights.window) {\n        $contentSelector.css('min-height', (max + offset) - heights.header - heights.footer)\n      } else {\n        $contentSelector.css('min-height', (max + offset) - heights.header)\n      }\n\n      if (this._isFooterFixed()) {\n        $contentSelector.css('min-height', parseFloat($contentSelector.css('min-height')) + heights.footer)\n      }\n    }\n\n    if (!$body.hasClass(CLASS_NAME_LAYOUT_FIXED)) {\n      return\n    }\n\n    if (offset !== false) {\n      $contentSelector.css('min-height', (max + offset) - heights.header - heights.footer)\n    }\n\n    if (typeof $.fn.overlayScrollbars !== 'undefined') {\n      $(SELECTOR_SIDEBAR).overlayScrollbars({\n        className: this._config.scrollbarTheme,\n        sizeAutoCapable: true,\n        scrollbars: {\n          autoHide: this._config.scrollbarAutoHide,\n          clickScrolling: true\n        }\n      })\n    }\n  }\n\n  fixLoginRegisterHeight() {\n    const $body = $('body')\n    const $selector = $(`${SELECTOR_LOGIN_BOX}, ${SELECTOR_REGISTER_BOX}`)\n\n    if ($selector.length === 0) {\n      $body.css('height', 'auto')\n      $('html').css('height', 'auto')\n    } else {\n      const boxHeight = $selector.height()\n\n      if ($body.css('min-height') !== boxHeight) {\n        $body.css('min-height', boxHeight)\n      }\n    }\n  }\n\n  // Private\n\n  _init() {\n    // Activate layout height watcher\n    this.fixLayoutHeight()\n\n    if (this._config.loginRegisterAutoHeight === true) {\n      this.fixLoginRegisterHeight()\n    } else if (this._config.loginRegisterAutoHeight === parseInt(this._config.loginRegisterAutoHeight, 10)) {\n      setInterval(this.fixLoginRegisterHeight, this._config.loginRegisterAutoHeight)\n    }\n\n    $(SELECTOR_SIDEBAR)\n      .on('collapsed.lte.treeview expanded.lte.treeview', () => {\n        this.fixLayoutHeight()\n      })\n\n    $(SELECTOR_PUSHMENU_BTN)\n      .on('collapsed.lte.pushmenu shown.lte.pushmenu', () => {\n        this.fixLayoutHeight()\n      })\n\n    $(SELECTOR_CONTROL_SIDEBAR_BTN)\n      .on('collapsed.lte.controlsidebar', () => {\n        this.fixLayoutHeight()\n      })\n      .on('expanded.lte.controlsidebar', () => {\n        this.fixLayoutHeight('control_sidebar')\n      })\n\n    $(window).resize(() => {\n      this.fixLayoutHeight()\n    })\n\n    setTimeout(() => {\n      $('body.hold-transition').removeClass('hold-transition')\n    }, 50)\n  }\n\n  _max(numbers) {\n    // Calculate the maximum number in a list\n    let max = 0\n\n    Object.keys(numbers).forEach(key => {\n      if (numbers[key] > max) {\n        max = numbers[key]\n      }\n    })\n\n    return max\n  }\n\n  _isFooterFixed() {\n    return $(SELECTOR_FOOTER).css('position') === 'fixed'\n  }\n\n  // Static\n\n  static _jQueryInterface(config = '') {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _options = $.extend({}, Default, $(this).data())\n\n      if (!data) {\n        data = new Layout($(this), _options)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (config === 'init' || config === '') {\n        data._init()\n      } else if (config === 'fixLayoutHeight' || config === 'fixLoginRegisterHeight') {\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * Data API\n * ====================================================\n */\n\n$(window).on('load', () => {\n  Layout._jQueryInterface.call($('body'))\n})\n\n$(`${SELECTOR_SIDEBAR} a`).on('focusin', () => {\n  $(SELECTOR_MAIN_SIDEBAR).addClass(CLASS_NAME_SIDEBAR_FOCUSED)\n})\n\n$(`${SELECTOR_SIDEBAR} a`).on('focusout', () => {\n  $(SELECTOR_MAIN_SIDEBAR).removeClass(CLASS_NAME_SIDEBAR_FOCUSED)\n})\n\n/**\n * jQuery API\n * ====================================================\n */\n\n$.fn[NAME] = Layout._jQueryInterface\n$.fn[NAME].Constructor = Layout\n$.fn[NAME].noConflict = function () {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Layout._jQueryInterface\n}\n\nexport default Layout\n"],"file":"Layout.min.js"}