{"version":3,"sources":["../src/PushMenu.js"],"names":["DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","$","fn","EVENT_COLLAPSED","EVENT_SHOWN","SELECTOR_TOGGLE_BUTTON","SELECTOR_BODY","CLASS_NAME_COLLAPSED","CLASS_NAME_OPEN","CLASS_NAME_IS_OPENING","CLASS_NAME_CLOSED","Default","autoCollapseSize","enableRemember","noTransitionAfterReload","PushMenu","element","options","_element","_options","extend","length","_addOverlay","_init","$bodySelector","window","width","addClass","removeClass","localStorage","setItem","trigger","Event","hasClass","expand","collapse","resize","$body","toggleState","getItem","delay","queue","dequeue","remember","autoCollapse","overlay","id","on","append","operation","each","data","match","document","event","preventDefault","button","currentTarget","closest","_jQueryInterface","call","Constructor","noConflict"],"mappings":"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","sourcesContent":["/**\n * --------------------------------------------\n * AdminLTE PushMenu.js\n * License MIT\n * --------------------------------------------\n */\n\nimport $ from 'jquery'\n\n/**\n * Constants\n * ====================================================\n */\n\nconst NAME = 'PushMenu'\nconst DATA_KEY = 'lte.pushmenu'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst EVENT_COLLAPSED = `collapsed${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\n\nconst SELECTOR_TOGGLE_BUTTON = '[data-widget=\"pushmenu\"]'\nconst SELECTOR_BODY = 'body'\nconst SELECTOR_OVERLAY = '#sidebar-overlay'\nconst SELECTOR_WRAPPER = '.wrapper'\n\nconst CLASS_NAME_COLLAPSED = 'sidebar-collapse'\nconst CLASS_NAME_OPEN = 'sidebar-open'\nconst CLASS_NAME_IS_OPENING = 'sidebar-is-opening'\nconst CLASS_NAME_CLOSED = 'sidebar-closed'\n\nconst Default = {\n  autoCollapseSize: 992,\n  enableRemember: false,\n  noTransitionAfterReload: true\n}\n\n/**\n * Class Definition\n * ====================================================\n */\n\nclass PushMenu {\n  constructor(element, options) {\n    this._element = element\n    this._options = $.extend({}, Default, options)\n\n    if ($(SELECTOR_OVERLAY).length === 0) {\n      this._addOverlay()\n    }\n\n    this._init()\n  }\n\n  // Public\n\n  expand() {\n    const $bodySelector = $(SELECTOR_BODY)\n\n    if (this._options.autoCollapseSize) {\n      if ($(window).width() <= this._options.autoCollapseSize) {\n        $bodySelector.addClass(CLASS_NAME_OPEN)\n      }\n    }\n\n    $bodySelector.addClass(CLASS_NAME_IS_OPENING).removeClass(`${CLASS_NAME_COLLAPSED} ${CLASS_NAME_CLOSED}`)\n\n    if (this._options.enableRemember) {\n      localStorage.setItem(`remember${EVENT_KEY}`, CLASS_NAME_OPEN)\n    }\n\n    $(this._element).trigger($.Event(EVENT_SHOWN))\n  }\n\n  collapse() {\n    const $bodySelector = $(SELECTOR_BODY)\n\n    if (this._options.autoCollapseSize) {\n      if ($(window).width() <= this._options.autoCollapseSize) {\n        $bodySelector.removeClass(CLASS_NAME_OPEN).addClass(CLASS_NAME_CLOSED)\n      }\n    }\n\n    $bodySelector.removeClass(CLASS_NAME_IS_OPENING).addClass(CLASS_NAME_COLLAPSED)\n\n    if (this._options.enableRemember) {\n      localStorage.setItem(`remember${EVENT_KEY}`, CLASS_NAME_COLLAPSED)\n    }\n\n    $(this._element).trigger($.Event(EVENT_COLLAPSED))\n  }\n\n  toggle() {\n    if ($(SELECTOR_BODY).hasClass(CLASS_NAME_COLLAPSED)) {\n      this.expand()\n    } else {\n      this.collapse()\n    }\n  }\n\n  autoCollapse(resize = false) {\n    if (!this._options.autoCollapseSize) {\n      return\n    }\n\n    const $bodySelector = $(SELECTOR_BODY)\n\n    if ($(window).width() <= this._options.autoCollapseSize) {\n      if (!$bodySelector.hasClass(CLASS_NAME_OPEN)) {\n        this.collapse()\n      }\n    } else if (resize === true) {\n      if ($bodySelector.hasClass(CLASS_NAME_OPEN)) {\n        $bodySelector.removeClass(CLASS_NAME_OPEN)\n      } else if ($bodySelector.hasClass(CLASS_NAME_CLOSED)) {\n        this.expand()\n      }\n    }\n  }\n\n  remember() {\n    if (!this._options.enableRemember) {\n      return\n    }\n\n    const $body = $('body')\n    const toggleState = localStorage.getItem(`remember${EVENT_KEY}`)\n\n    if (toggleState === CLASS_NAME_COLLAPSED) {\n      if (this._options.noTransitionAfterReload) {\n        $body.addClass('hold-transition').addClass(CLASS_NAME_COLLAPSED).delay(50).queue(function () {\n          $(this).removeClass('hold-transition')\n          $(this).dequeue()\n        })\n      } else {\n        $body.addClass(CLASS_NAME_COLLAPSED)\n      }\n    } else if (this._options.noTransitionAfterReload) {\n      $body.addClass('hold-transition').removeClass(CLASS_NAME_COLLAPSED).delay(50).queue(function () {\n        $(this).removeClass('hold-transition')\n        $(this).dequeue()\n      })\n    } else {\n      $body.removeClass(CLASS_NAME_COLLAPSED)\n    }\n  }\n\n  // Private\n\n  _init() {\n    this.remember()\n    this.autoCollapse()\n\n    $(window).resize(() => {\n      this.autoCollapse(true)\n    })\n  }\n\n  _addOverlay() {\n    const overlay = $('<div />', {\n      id: 'sidebar-overlay'\n    })\n\n    overlay.on('click', () => {\n      this.collapse()\n    })\n\n    $(SELECTOR_WRAPPER).append(overlay)\n  }\n\n  // Static\n\n  static _jQueryInterface(operation) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _options = $.extend({}, Default, $(this).data())\n\n      if (!data) {\n        data = new PushMenu(this, _options)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof operation === 'string' && operation.match(/collapse|expand|toggle/)) {\n        data[operation]()\n      }\n    })\n  }\n}\n\n/**\n * Data API\n * ====================================================\n */\n\n$(document).on('click', SELECTOR_TOGGLE_BUTTON, event => {\n  event.preventDefault()\n\n  let button = event.currentTarget\n\n  if ($(button).data('widget') !== 'pushmenu') {\n    button = $(button).closest(SELECTOR_TOGGLE_BUTTON)\n  }\n\n  PushMenu._jQueryInterface.call($(button), 'toggle')\n})\n\n$(window).on('load', () => {\n  PushMenu._jQueryInterface.call($(SELECTOR_TOGGLE_BUTTON))\n})\n\n/**\n * jQuery API\n * ====================================================\n */\n\n$.fn[NAME] = PushMenu._jQueryInterface\n$.fn[NAME].Constructor = PushMenu\n$.fn[NAME].noConflict = function () {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return PushMenu._jQueryInterface\n}\n\nexport default PushMenu\n"],"file":"PushMenu.min.js"}