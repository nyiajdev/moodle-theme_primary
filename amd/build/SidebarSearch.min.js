define ("theme_primary/SidebarSearch",["exports","jquery"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;b=d(b);function c(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;c=function(){return a};return a}function d(a){if(a&&a.__esModule){return a}if(null===a||"object"!==e(a)&&"function"!=typeof a){return{default:a}}var b=c();if(b&&b.has(a)){return b.get(a)}var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a){if(Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;if(h&&(h.get||h.set)){Object.defineProperty(d,g,h)}else{d[g]=a[g]}}}d.default=a;if(b){b.set(a,d)}return d}function e(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){e=function(a){return typeof a}}else{e=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return e(a)}function f(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function g(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function h(a,b,c){if(b)g(a.prototype,b);if(c)g(a,c);return a}var i="lte.sidebar-search",j=b.default.fn.SidebarSearch,k="sidebar-search-open",l="fa-search",m="fa-times",n="sidebar-search-results",o="list-group",p="[data-widget=\"sidebar-search\"]",q="".concat(p," .form-control"),r="".concat(p," .btn"),s="".concat(r," i"),t=".".concat(o),u=".".concat(n),v="".concat(u," .").concat(o),w={arrowSign:"->",minLength:3,maxResults:7,highlightName:!0,highlightPath:!1,highlightClass:"text-light",notFoundText:"No element found!"},x=[],y=function(){function a(c,d){f(this,a);this.element=c;this.options=b.default.extend({},w,d);this.items=[]}h(a,[{key:"init",value:function init(){var a=this;if(0==(0,b.default)(p).next(u).length){(0,b.default)(p).after((0,b.default)("<div />",{class:n}))}if(0==(0,b.default)(u).children(t).length){(0,b.default)(u).append((0,b.default)("<div />",{class:o}))}this._addNotFound();(0,b.default)(".main-sidebar .nav-sidebar").children().each(function(b,c){a._parseItem(c)})}},{key:"search",value:function search(){var a=this,c=(0,b.default)(q).val().toLowerCase();if(c.length<this.options.minLength){(0,b.default)(v).empty();this._addNotFound();this.close();return}var d=x.filter(function(a){return a.name.toLowerCase().includes(c)}),e=(0,b.default)(d.slice(0,this.options.maxResults));(0,b.default)(v).empty();if(0===e.length){this._addNotFound()}else{e.each(function(c,d){(0,b.default)(v).append(a._renderItem(d.name,d.link,d.path))})}this.open()}},{key:"open",value:function open(){(0,b.default)(p).parent().addClass(k);(0,b.default)(s).removeClass(l).addClass(m)}},{key:"close",value:function close(){(0,b.default)(p).parent().removeClass(k);(0,b.default)(s).removeClass(m).addClass(l)}},{key:"toggle",value:function toggle(){if((0,b.default)(p).parent().hasClass(k)){this.close()}else{this.open()}}},{key:"_parseItem",value:function _parseItem(a){var c=this,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];if((0,b.default)(a).hasClass("nav-header")){return}var e={},f=(0,b.default)(a).clone().find("> ".concat(".nav-link")),g=(0,b.default)(a).clone().find("> ".concat(".nav-treeview")),h=f.attr("href"),i=f.find("p").children().remove().end().text();e.name=this._trimText(i);e.link=h;e.path=d;if(0===g.length){x.push(e)}else{var j=e.path.concat([e.name]);g.children().each(function(a,b){c._parseItem(b,j)})}}},{key:"_trimText",value:function _trimText(a){return(0,b.trim)(a.replace(/(\r\n|\n|\r)/gm," "))}},{key:"_renderItem",value:function _renderItem(a,c,d){var e=this;d=d.join(" ".concat(this.options.arrowSign," "));if(this.options.highlightName||this.options.highlightPath){var f=(0,b.default)(q).val().toLowerCase(),g=new RegExp(f,"gi");if(this.options.highlightName){a=a.replace(g,function(a){return"<b class=\"".concat(e.options.highlightClass,"\">").concat(a,"</b>")})}if(this.options.highlightPath){d=d.replace(g,function(a){return"<b class=\"".concat(e.options.highlightClass,"\">").concat(a,"</b>")})}}return"<a href=\"".concat(c,"\" class=\"list-group-item\">\n        <div class=\"search-title\">\n          ").concat(a,"\n        </div>\n        <div class=\"search-path\">\n          ").concat(d,"\n        </div>\n      </a>")}},{key:"_addNotFound",value:function _addNotFound(){(0,b.default)(v).append(this._renderItem(this.options.notFoundText,"#",[]))}}],[{key:"_jQueryInterface",value:function _jQueryInterface(c){var d=(0,b.default)(this).data(i);if(!d){d=(0,b.default)(this).data()}var f=b.default.extend({},w,"object"===e(c)?c:d),g=new a((0,b.default)(this),f);(0,b.default)(this).data(i,"object"===e(c)?c:d);if("string"==typeof c&&c.match(/init|toggle|close|open|search/)){g[c]()}else{g.init()}}}]);return a}();(0,b.default)(document).on("click",r,function(a){a.preventDefault();y._jQueryInterface.call((0,b.default)(p),"toggle")});(0,b.default)(document).on("keyup",q,function(){var a=0;clearTimeout(a);a=setTimeout(function(){y._jQueryInterface.call((0,b.default)(p),"search")},100)});(0,b.default)(window).on("load",function(){y._jQueryInterface.call((0,b.default)(p),"init")});b.default.fn.SidebarSearch=y._jQueryInterface;b.default.fn.SidebarSearch.Constructor=y;b.default.fn.SidebarSearch.noConflict=function(){b.default.fn.SidebarSearch=j;return y._jQueryInterface};a.default=y;return a.default});
//# sourceMappingURL=SidebarSearch.min.js.map
